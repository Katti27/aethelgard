/* ============================================================
   Flowershow Cloud â€” Obsidian ITS-inspired (DARK ONLY)
   + Custom Fonts (Google Fonts) for closer ITS match
   ------------------------------------------------------------
   ITS theme fonts (from your uploaded ITS css):
   - Body/UI: Inter
   - Mono: Fira Code
   - Headings: serif stack ending with "Suez One"
   This file loads Inter + Fira Code + Suez One via Google Fonts,
   then applies them to Flowershow's typical typography output.
   ============================================================ */

/* -----------------------------
   0) Load fonts (must be first)
------------------------------ */
/* Per Flowershow docs/blog guidance, you can import Google Fonts in custom.css */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Fira+Code:wght@400;500;600&family=Suez+One&display=swap");

/* -----------------------------
   1) ITS palette tokens (dark)
------------------------------ */
:root,
html,
html[data-theme],
body {
  color-scheme: dark;

  --its-outer-bar: #0b0f13;
  --its-bg: #252c36;
  --its-note: #1a1e24;
  --its-panel: #11151d;

  --its-text: #cfd7dd;
  --its-muted: #97a1b9;
  --its-faint: #4e5b6f;

  --its-h1: #c14343;      /* red title */
  --its-link: #61afef;    /* bright blue */
  --its-em: #e79c5d;      /* warm orange for italic parts */
  --its-accent: #863737;  /* deep red accent */
  --its-rule: #2f3b4d;    /* separators/borders */

  --its-code-bg: #232831;
  --its-code-inline: #fa4545;

  /* Font stacks (ITS-inspired) */
  --its-font: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", sans-serif;
  --its-mono: "Fira Code", "Fira Code Medium", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --its-heading: "Suez One", "Calisto MT", "Palatino Black", "Book Antiqua", Georgia, serif;

  --its-radius: 10px;
  --its-radius-lg: 14px;
  --its-shadow-soft: 0 10px 22px rgba(0,0,0,.22);

  --its-focus: color-mix(in oklab, var(--its-link) 45%, transparent);
  --its-active-bg: rgba(193, 67, 67, 0.18);
}

/* -----------------------------
   2) Global base
------------------------------ */
html, body {
  background: var(--its-bg) !important;
  color: var(--its-text);
  font-family: var(--its-font);
}

body {
  background:
    radial-gradient(900px 520px at 15% 0%, rgba(193, 67, 67, 0.10), transparent 60%),
    radial-gradient(900px 520px at 85% 0%, rgba(97, 175, 239, 0.08), transparent 60%),
    var(--its-bg) !important;
}

::selection { background: rgba(122, 20, 20, 0.40); }

:where(a, button, summary, input, textarea, select):focus-visible {
  outline: 3px solid var(--its-focus);
  outline-offset: 3px;
  border-radius: 10px;
}

a {
  color: var(--its-link);
  text-decoration: underline;
  text-underline-offset: 3px;
}
a:hover {
  color: color-mix(in oklab, var(--its-link) 78%, var(--its-h1));
}

/* -----------------------------
   3) Chrome: header / sidebars / toc
------------------------------ */
:where(header, nav, .site-navbar, body > header, body > nav) {
  background: var(--its-outer-bar) !important;
  border-bottom: 1px solid var(--its-rule);
}

:where(aside, .site-sidebar) {
  background: var(--its-outer-bar) !important;
  border-right: 1px solid var(--its-rule);
}

/* Sidebar / TOC links */
:where(nav, aside) a {
  color: color-mix(in oklab, var(--its-muted) 85%, var(--its-link));
  text-decoration: none;
}
:where(nav, aside) a:hover {
  color: var(--its-link);
  text-decoration: underline;
  text-underline-offset: 3px;
}

:where(nav, aside) a[aria-current="page"],
:where(nav, aside) a[aria-current="true"] {
  color: var(--its-text);
  font-weight: 700;
  background: var(--its-active-bg);
  border-left: 3px solid var(--its-h1);
  padding-left: 0.55rem;
  border-radius: 6px;
}

/* Inputs (search) */
:where(header, nav, aside) :where(input, textarea) {
  background: rgba(0,0,0,0.35);
  color: var(--its-text);
  border: 1px solid color-mix(in oklab, var(--its-rule) 70%, transparent);
  border-radius: 8px;
}

/* -----------------------------
   4) Main note surface
------------------------------ */
:where(main) :where(article, .prose, .markdown, .content) {
  background: var(--its-note);
  border: 1px solid color-mix(in oklab, var(--its-rule) 75%, transparent);
  border-radius: var(--its-radius-lg);
  box-shadow: var(--its-shadow-soft);
  padding: 2rem 2.2rem;
  max-width: 980px;
}

/* -----------------------------
   5) Markdown typography (.prose)
------------------------------ */
.prose {
  --tw-prose-body: var(--its-text);
  --tw-prose-headings: var(--its-text);
  --tw-prose-links: var(--its-link);
  --tw-prose-bullets: var(--its-muted);
  --tw-prose-hr: var(--its-rule);
  --tw-prose-code: var(--its-code-inline);
  --tw-prose-pre-bg: var(--its-code-bg);
  --tw-prose-th-borders: var(--its-rule);
  --tw-prose-td-borders: var(--its-rule);

  font-family: var(--its-font);
}

/* Headings use the ITS serif heading stack */
.prose :where(h1, h2, h3, h4, h5, h6) {
  font-family: var(--its-heading);
}

/* H1 like ITS: red, uppercase, centered */
.prose h1 {
  color: var(--its-h1);
  text-transform: uppercase;
  letter-spacing: 0.06em;
  font-weight: 800;
  text-align: center;
  font-size: clamp(1.8rem, 2.6vw, 2.4rem);
  margin-top: 0.2rem;
  margin-bottom: 1.25rem;
}

/* H2/H3 like ITS: bright blue; italic parts orange */
.prose h2,
.prose h3 {
  color: var(--its-link);
  font-weight: 800;
  letter-spacing: 0.01em;
}

.prose h2 {
  text-transform: uppercase;
  font-size: clamp(1.25rem, 2.0vw, 1.65rem);
  padding-bottom: 0.35rem;
  border-bottom: 2px solid color-mix(in oklab, var(--its-h1) 55%, var(--its-rule));
  margin-top: 2.0rem;
}

.prose h3 {
  font-size: 1.15rem;
  margin-top: 1.35rem;
}

/* The italic parenthetical parts in headings */
.prose :where(h1, h2, h3, h4) em {
  color: var(--its-em);
  font-style: italic;
  font-weight: 700;
  text-transform: none;
}

/* Dividers */
.prose hr {
  border: none;
  height: 2px;
  background: linear-gradient(to right, transparent, rgba(193, 67, 67, 0.55), transparent);
  margin: 2rem 0;
}

/* Inline code */
.prose :not(pre) > code {
  font-family: var(--its-mono);
  background: color-mix(in oklab, var(--its-code-bg) 70%, var(--its-note) 30%);
  color: var(--its-code-inline);
  border: 1px solid color-mix(in oklab, var(--its-rule) 70%, transparent);
  border-radius: 8px;
  padding: 0.12em 0.35em;
}

/* Code blocks */
.prose pre {
  background: var(--its-code-bg) !important;
  border: 1px solid color-mix(in oklab, var(--its-rule) 75%, transparent);
  border-radius: var(--its-radius-lg);
  box-shadow: var(--its-shadow-soft);
}
.prose pre code {
  font-family: var(--its-mono);
  color: var(--its-text);
}

/* Blockquotes */
.prose blockquote {
  background: var(--its-panel);
  border-left: 4px solid var(--its-accent);
  border-radius: var(--its-radius);
  padding: 0.85rem 1rem;
}

/* Tables */
.prose table {
  border-collapse: separate;
  border-spacing: 0;
  border: 1px solid color-mix(in oklab, var(--its-rule) 80%, transparent);
  border-radius: var(--its-radius-lg);
  overflow: hidden;
  box-shadow: var(--its-shadow-soft);
}
.prose thead th {
  background: #283345;
  color: var(--its-text);
  border-bottom: 1px solid var(--its-rule);
}
.prose tbody tr:nth-child(2n) td {
  background: color-mix(in oklab, var(--its-note) 86%, #000 14%);
}

/* Images */
.prose img {
  border-radius: var(--its-radius-lg);
  box-shadow: var(--its-shadow-soft);
}

/* -----------------------------
   6) Mobile tightening
------------------------------ */
@media (max-width: 640px) {
  :where(main) :where(article, .prose, .markdown, .content) {
    padding: 1.25rem 1.15rem;
  }
}
